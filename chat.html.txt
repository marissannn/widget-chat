<div id="chatbox"></div>

<script>
  const chatbox = document.getElementById("chatbox");
  const API_KEY = "sajxncx1ku90smi0qcul6iapyhwztr";
  const LIVE_CHAT_ID = "gp762nuuoqcoxypju8c569th9wz7q5";

  async function getChatMessages() {
    let url = `https://www.twitch.tv/popout/marissan__/chatliveChatId=${LIVE_CHAT_ID}&part=snippet,authorDetails&key=${API_KEY}`;
    let response = await fetch(url);
    let data = await response.json();
    
    if (data.items) {
      data.items.forEach(msg => {
        let username = msg.authorDetails.displayName;
        let message = msg.snippet.displayMessage;
        addMessage(username, message);
      });
    }
  }

  function addMessage(username, message) {
    let msgElement = document.createElement("p");
    msgElement.innerHTML = `<strong>${username}:</strong> ${message}`;
    chatbox.appendChild(msgElement);
    chatbox.scrollTop = chatbox.scrollHeight;
  }

  setInterval(getChatMessages, 5000); // Obtiene mensajes cada 5 segundos
</script>

<style>
  #chatbox {
    width: 300px;
    height: 500px;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    font-size: 14px;
    padding: 10px;
    overflow-y: auto;
    border-radius: 10px;
  }
</style>
