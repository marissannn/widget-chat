<div id="chatbox"></div>

<script>
  const chatbox = document.getElementById("chatbox");

  // Funci칩n para agregar los mensajes al chatbox
  function addMessage(username, message) {
    let msgElement = document.createElement("p");
    msgElement.innerHTML = `<strong>${username}:</strong> ${message}`;
    chatbox.appendChild(msgElement);
    chatbox.scrollTop = chatbox.scrollHeight;
  }

  // Conectar a WebSocket de Twitch (IRC)
  const ws = new WebSocket("wss://irc-ws.chat.twitch.tv");

  // Evento cuando la conexi칩n est치 abierta
  ws.onopen = () => {
    // Enviar el OAuth Token y unirse al canal
    ws.send("PASS oauth:sajxncx1ku90smi0qcul6iapyhwztr");  // Tu OAuth Token
    ws.send("NICK marissan__");  // Tu nombre de usuario
    ws.send("JOIN #Marissan__");  // Nombre de tu canal
  };

  // Evento cuando se recibe un mensaje
  ws.onmessage = (event) => {
    let message = event.data;

    // Expresi칩n regular para extraer el nombre de usuario y el mensaje
    let match = message.match(/:(\w+)!\w+@\w+\.tmi\.twitch\.tv PRIVMSG #\w+ :(.*)/);
    if (match) {
      addMessage(match[1], match[2]);  // Muestra el mensaje en el chatbox
    }
  };
</script>

<style>
  #chatbox {
    width: 300px;
    height: 500px;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    font-size: 14px;
    padding: 10px;
    overflow-y: auto;
    border-radius: 10px;
  }
</style>
